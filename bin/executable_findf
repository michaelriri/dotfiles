#! /bin/bash

set -euo pipefail

path="${1:-}"

files=$(eval "$FZF_DEFAULT_COMMAND $path")

echo "$files" |
    fzf --ansi \
        --highlight-line \
        --bind 'enter:become(code {})' \
        --preview 'bat --color=always {}'
